### é¢˜ç›®
[37. Sudoku Solver](https://leetcode.com/problems/sudoku-solver/)
### é¢˜ç›®æè¿°
```
Write a program to solve a Sudoku puzzle by filling the empty cells.

A sudoku solution must satisfy all of the following rules:

Each of the digits 1-9 must occur exactly once in each row.
Each of the digits 1-9 must occur exactly once in each column.
Each of the the digits 1-9 must occur exactly once in each of the 9 3x3 sub-boxes of the grid.
Empty cells are indicated by the character '.'.

A sudoku puzzle...

...and its solution numbers marked in red.

Note:

The given board contain only digits 1-9 and the character '.'.
You may assume that the given Sudoku puzzle will have a single unique solution.
The given board size is always 9x9.
```

![pic](https://github.com/zhangbotong/LeetCode/blob/master/assets/37-1.png)

### æ€è·¯

#### é€’å½’ + å›æº¯ = ç©·ä¸¾ 1~9
### å…³é”®ç‚¹åˆ†æ
#### å¦‚ä½•åˆ¤æ–­æ»¡è¶³å­æ•°ç‹¬é™åˆ¶ï¼Ÿ
å…³é”®æ˜¯ç¡®å®šå­æ•°ç‹¬ä½ç½®ã€‚èµ·å§‹è¡Œä¸º`row / 3 * 3`ï¼Œèµ·å§‹åˆ—ä¸º`col /3 * 3`ï¼Œéå†æ¥ä¸‹æ¥çš„ 9 ä¸ªä½ç½®ï¼Œåˆ™ç¬¬ n ä¸ªä½ç½®åæ ‡ä¸ºï¼ˆstartRow + n / 3ï¼ŒstartCol + n % 3ï¼‰ã€‚

æ¯ 3 ä¸ªä¸ºä¸€ç»„ï¼Œç»„å†… col + 1ï¼Œç»„å¤– row + 1

ä¸¾ä¸ªğŸŒ°ï¼š

åˆ¤æ–­ 7 æ˜¯å¦å¯ä»¥æ”¾åœ¨ board[4][5] ä½ç½®ä¸Šï¼Ÿ

* è¡Œï¼šéå† board[4][0~8] çœ‹æœ‰æ²¡æœ‰ 7
* åˆ—ï¼šéå† board[0~8][5] çœ‹æœ‰æ²¡æœ‰ 7
* **å­æ•°ç‹¬**ï¼šéå† board[4 / 3 * 3 + n / 3, 5 /3 * 3 + n % 3] çœ‹æœ‰æ²¡æœ‰ 9

```java
    private boolean isValide (char[][] board, int row, int col, char ch){
        int blkRowStart = row / 3 * 3;
        int blkColStart = col /3 * 3;
        for(int i = 0; i < 9; i++){
            // check æ‰€åœ¨è¡Œ
            if (board[row][i] == ch){
                return false;
            }
            // check æ‰€åœ¨åˆ—
            if (board[i][col] == ch){
                return false;
            }
            // check æ‰€åœ¨å­æ•°ç‹¬
            if (board[blkRowStart + i / 3][blkColStart + i % 3] == ch){
                return false;
            }
        }
        return true;
    }
```

### ä»£ç 
```java 
package é€’å½’_å›æº¯;

public class _37_æ•°ç‹¬ {
    public void solveSudoku(char[][] board) {
        if (board == null || board.length != 9 || board[0].length != 9){
            return;
        }
        solveSudoku(board, 0, 0);
    }

    /**
     * ä» (row, col) å¼€å§‹é€’å½’å›æº¯ç©·ä¸¾åˆé€‚æ•°å­—
     * @param board
     * @param row
     * @param col
     */
    private boolean solveSudoku (char[][] board, int row, int col){
        int maxCol = 9;
        int maxRow = 9;
        if (row >= maxRow){// åˆ°æœ€åä¸€è¡Œä¸‹ä¸€è¡Œï¼Œç»“æŸ
            return true;// æ­£ç¡®é“è·¯æœ€åº•å±‚ true
        }else if (col >= maxCol){// æ¢è¡Œ
            return solveSudoku(board, row + 1, 0);
        } else {// æœªåˆ°è¡Œå°¾ã€åˆ—å°¾
            if (board[row][col] != '.'){
                return solveSudoku(board, row, col + 1);
            }
            // é€’å½’é€»è¾‘
            for (char ch = '1'; ch <= '9'; ch++){
                if (isValide (board, row, col, ch)){
                    // å‡è®¾
                    board[row][col] = ch;
                    if (solveSudoku(board, row, col + 1)){
                        // è‹¥èƒ½èµ°é€šï¼Œå°±ä¸€ç›´è¿”å› trueï¼Œç›´åˆ°å‡ºå»
                        return true;// é”™è¯¯é“è·¯åƒåƒä¸‡ï¼Œæ­£ç¡®é“è·¯åªæœ‰ä¸€æ¡
                    }
                    // è‹¥èµ°ä¸é€šï¼Œå›æº¯ï¼Œå†è¯•åˆ«çš„è·¯
                    board[row][col] = '.';
                }
            }
        }
        return false;
    }

    /**
     * åœ¨board[][] ä¸­(row, col)ä½ç½®åˆ¤æ–­æ•°å­—chæ˜¯å¦æ»¡è¶³é™åˆ¶
     * @param board
     * @param row
     * @param col
     * @return
     */
    private boolean isValide (char[][] board, int row, int col, char ch){
        int blkRowStart = row / 3 * 3;
        int blkColStart = col /3 * 3;
        for(int i = 0; i < 9; i++){
            // check æ‰€åœ¨è¡Œ
            if (board[row][i] == ch){
                return false;
            }
            // check æ‰€åœ¨åˆ—
            if (board[i][col] == ch){
                return false;
            }
            // check æ‰€åœ¨å­æ•°ç‹¬
            if (board[blkRowStart + i / 3][blkColStart + i % 3] == ch){
                return false;
            }
        }
        return true;
    }
}
```
